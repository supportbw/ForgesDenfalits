<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R√©servation ‚Äì Les Forges d'Enfalits</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:400;500&family=Playfair+Display&family=Dancing+Script:wght@600&family=Jost:wght@300;400;500&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:'Jost',sans-serif;background:#f5efe4;color:#5a4a35}
.main-wrap{max-width:1200px;margin:0 auto;padding:80px 40px;display:grid;grid-template-columns:1fr 380px;gap:60px}
.heberg-card{background:#fff;border-radius:6px;overflow:hidden;box-shadow:0 6px 30px rgba(0,0,0,0.07);display:grid;grid-template-columns:220px 1fr;margin-bottom:20px;cursor:pointer;border:2px solid transparent;transition:.3s}
.heberg-card.selected{border-color:#7c5c3e}
.heberg-img img{width:100%;height:100%;object-fit:cover;min-height:170px}
.heberg-info{padding:22px}
.heberg-name{font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:6px}
.heberg-price{font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:#7c5c3e}
.form-card{background:#fff;border-radius:8px;box-shadow:0 10px 40px rgba(0,0,0,0.1);overflow:hidden}
.form-header{background:#3a2e22;color:#fff;padding:24px}
.form-header h3{font-family:'Dancing Script';font-size:1.8rem;margin:0}
.form-body{padding:26px}
.form-group{margin-bottom:14px}
.form-group label{font-size:.7rem;letter-spacing:.2em;text-transform:uppercase;color:#8a7560;display:block;margin-bottom:4px}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px;border:1px solid #ede4d5;border-radius:3px;background:#f5efe4}
.btn-send{width:100%;background:#7c5c3e;color:#fff;border:none;padding:14px;letter-spacing:.2em;text-transform:uppercase;border-radius:3px;cursor:pointer}
.btn-send:hover{background:#3a2e22}
.selected-preview{background:#f5efe4;padding:10px;border-radius:4px;margin-bottom:14px;font-size:.85rem}
.selected-preview.filled{background:#eef6e8;font-weight:500}
.confirmation{display:none;padding:30px;text-align:center}
@media(max-width:1024px){.main-wrap{grid-template-columns:1fr}}
</style>
</head>
<body>

<div class="main-wrap">

<div>

<div class="heberg-card" id="card-chataigne" onclick="selectHeberg('Chambre Ch√¢taigne','chataigne')">
<div class="heberg-img">
<img src="20220620-forges-d-enfalits-chambres-hotes-pyr√©n√©es-ariege-tarascon-chambre-chataigne-05.webp">
</div>
<div class="heberg-info">
<div class="heberg-name">Chambre Ch√¢taigne</div>
<div class="heberg-price">95 ‚Ç¨ / nuit</div>
</div>
</div>

<div class="heberg-card" id="card-gite" onclick="selectHeberg('Le G√Æte en Bois','gite')">
<div class="heberg-img">
<img src="unnamed (1).webp">
</div>
<div class="heberg-info">
<div class="heberg-name">Le G√Æte en Bois</div>
<div class="heberg-price">450‚Äì750 ‚Ç¨ / semaine</div>
</div>
</div>

</div>

<div class="form-card">
<div class="form-header">
<h3>Demande de r√©servation</h3>
</div>

<form class="form-body" id="formBody">

<input type="hidden" name="H√©bergement" id="hebergementInput">
<input type="hidden" name="_subject" value="Nouvelle demande de r√©servation - Forges d'Enfalits">

<div class="selected-preview" id="selectedPreview">
üè† S√©lectionnez un h√©bergement
</div>

<div class="form-group">
<label>Arriv√©e</label>
<input type="date" id="dateArrivee" name="Arriv√©e" required>
</div>

<div class="form-group">
<label>D√©part</label>
<input type="date" id="dateDepart" name="D√©part" required>
</div>

<div class="form-group">
<label>Adultes</label>
<select name="Adultes">
<option>1</option>
<option selected>2</option>
<option>3</option>
<option>4</option>
</select>
</div>

<div class="form-group">
<label>Nom complet</label>
<input type="text" name="Nom" required>
</div>

<div class="form-group">
<label>Email</label>
<input type="email" name="Email" required>
</div>

<div class="form-group">
<label>T√©l√©phone</label>
<input type="tel" name="T√©l√©phone">
</div>

<div class="form-group">
<label>Message</label>
<textarea name="Message"></textarea>
</div>

<button type="submit" class="btn-send">Envoyer ma demande ‚Üí</button>

</form>

<div class="confirmation" id="confirmationMsg">
<h4>Demande envoy√©e !</h4>
<p>Nous vous r√©pondrons sous 24h.</p>
</div>

</div>

</div>

<script>
let selectedHeberg = '';

function selectHeberg(name, id){
document.querySelectorAll('.heberg-card').forEach(c=>c.classList.remove('selected'));
document.getElementById('card-'+id).classList.add('selected');
selectedHeberg=name;
document.getElementById('selectedPreview').classList.add('filled');
document.getElementById('selectedPreview').innerHTML='‚úì '+name+' s√©lectionn√©(e)';
document.getElementById('hebergementInput').value=name;
}

document.getElementById('formBody').addEventListener('submit',async function(e){
e.preventDefault();

if(!selectedHeberg){
alert("Merci de s√©lectionner un h√©bergement.");
return;
}

const formData=new FormData(this);

try{
const response=await fetch("https://formspree.io/f/xwvnrpng",{
method:"POST",
body:formData,
headers:{'Accept':'application/json'}
});
if(response.ok){
this.style.display="none";
document.getElementById('confirmationMsg').style.display="block";
}else{
alert("Erreur lors de l'envoi.");
}
}catch(error){
alert("Erreur r√©seau.");
}
});

const today=new Date().toISOString().split('T')[0];
document.getElementById('dateArrivee').min=today;
document.getElementById('dateDepart').min=today;
document.getElementById('dateArrivee').addEventListener('change',function(){
document.getElementById('dateDepart').min=this.value;
});
</script>

</body>
</html>
